# إضافة دعم العملات المتعددة

## الخطوات المطلوبة لإضافة دعم العملات:

### 1. تنفيذ أكواد SQL في Supabase

اذهب إلى **Supabase Dashboard > SQL Editor** وقم بتنفيذ الأكواد التالية بالترتيب:

#### أ) إضافة حقل العملة إلى جدول الديون:
```sql
-- نسخ محتوى ملف add_currency_to_debts.sql هنا
```

#### ب) إضافة حقل العملة إلى جدول الأقساط:
```sql
-- نسخ محتوى ملف add_currency_to_installments.sql هنا
```

#### ج) إضافة حقل العملة المفضلة إلى جدول العملاء:
```sql
-- نسخ محتوى ملف add_currency_to_customers.sql هنا
```

#### د) إضافة إعدادات العملة:
```sql
-- نسخ محتوى ملف add_currency_settings.sql هنا
```

### 2. إعادة تشغيل التطبيق

بعد تنفيذ الأكواد، أعد تشغيل التطبيق لترى التغييرات:

```bash
npm run dev
```

### 3. الميزات الجديدة

#### في قسم الديون:
- ✅ اختيار العملة عند إضافة دين جديد (دينار عراقي أو دولار)
- ✅ إمكانية اختيار تاريخ استحقاق قديم
- ✅ عرض عدد الأيام المتأخرة تلقائياً
- ✅ تعديل العملة والتاريخ في الديون الموجودة

#### في قسم التنبيهات:
- ✅ عرض الديون المتأخرة
- ✅ إرسال تنبيهات واتساب للديون المتأخرة
- ✅ رسائل مخصصة مع تفاصيل الدين والمبلغ والعملة

### 4. ملاحظات مهمة

- العملة الافتراضية هي الدينار العراقي (IQD)
- يمكن تغيير العملة الافتراضية من إعدادات التطبيق
- جميع المبالغ تُعرض بالعملة المحددة لكل دين
- التنبيهات تتضمن العملة المحددة في الرسالة

### 5. استكشاف الأخطاء

إذا لم تظهر التغييرات:
1. تأكد من تنفيذ جميع أكواد SQL
2. أعد تحديث الصفحة (Ctrl+F5)
3. تحقق من وجود أخطاء في وحدة التحكم (F12 > Console)
